# QuantsEdge Site – Audit Notes

## Structure Overview

- **Pages**: `src/app/page.tsx` (landing), `layout.tsx`. No nested routes.
- **Components**: 12 components covering hero/sections, utility wrappers, analytics provider.
- **Hooks**: `usePersonalization` only.
- **Lib**: utilities + analytics + constants.
- **Styles**: Tailwind with global CSS, custom classes (`glass`, typography) declared in `globals.css`.

## Tooling Snapshot

- ESLint: extends `next/core-web-vitals`, limited custom rules. No plugin for tailwind or import sorting.
- TypeScript: `strict` enabled, but `skipLibCheck` true; `allowJs` true though no JS should remain.
- Scripts: `lint`, `typecheck`, no dedicated `format` or CI lint/test combined.
- Prettier config present.

## Findings

1. **Component Size & Cohesion**
   - `Hero.tsx`, `page.tsx` are large; need decomposition into smaller presentational pieces.
   - `page.tsx` mixes data arrays + layout; consider moving static data to constants.

2. **State & Effects**
   - Custom animation/state logic in hero/trading chart without memoization in some arrays (fine but check re-render cost).
   - Request access modal replicates early access form fields; duplication to reconcile.

3. **Consistency**
   - Mixed event string literals; new `REQUEST_ACCESS_EVENT` constant partially applied.
   - CTA analytics payloads repeated inline.

4. **Type Safety**
   - Inline object literal maps lack typing (e.g., stats arrays). Add local types.
   - `Any` typed payloads in Recharts tooltip.

5. **Performance**
   - Large hero chart renders every re-render; should ensure stable data generation & memoization (already using state but initial seeding on mount). For static arrays (proof/performance), convert to `const` outside component to avoid recreation.
   - Trading chart interval lacks cleanup guard tied to view (already using isInView). Acceptable.

6. **Styling**
   - Custom class names across components; ensure `globals.css` documents them. Check for unused CSS in `globals.css`.

7. **Accessibility**
   - Modal close button is text `×` without visually hidden; acceptable but ensure focus trap (currently none). Need to add focus lock? (Optional).

8. **Assets**
   - `images/` duplicates? Ensure tailwind purge includes new classes.

## Proposed Cleanup/Refactor Plan

1. **Config & Scripts**
   - Add `pnpm format` (Prettier) script.
   - Extend ESLint with `@typescript-eslint`, `eslint-config-prettier`, `import/order` etc.
   - Remove `allowJs` if unused.

2. **Lib Structure**
   - Introduce `src/lib/content.ts` for static arrays (performance stats, technology cards etc.).
   - Create central analytics helper for CTA payloads.

3. **Component Decomposition**
   - Split `Hero` into subcomponents: `HeroIntro`, `HeroMedia`, `HeroStats`, `RequestAccessModal` (maybe move modal to separate file).
   - Break `page.tsx` sections into dedicated components (PerformanceSection, TechnologySection, TeamSection, RoadmapSection) with typed props.

4. **Type Enhancements**
   - Define interfaces for stats/testimonials etc.
   - Remove `any` from `CustomTooltip`.

5. **Performance & UX**
   - Ensure modal handles focus trap/escape.
   - Memoize static data with `useMemo` or define outside components.

6. **Docs**
   - Update README with scripts & architecture summary.

7. **Cleanup**
   - Remove unused legacy files (`app.js`, `legacy css`?).
   - Check public assets duplicates.

## Next Steps

1. Update tooling configs (ESLint, scripts, tsconfig).
2. Extract static content constants.
3. Refactor major components/sections into modular pieces.
4. Add shared modal/access components to avoid duplication with EarlyAccess.
5. Add focus management & keyboard handling to modal.
6. Final lint/typecheck pass and README update.
